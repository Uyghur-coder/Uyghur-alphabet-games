<!DOCTYPE html>
<html lang="ug" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Uyghur Voiced vs Unvoiced Consonants</title>
<style>
/* AlkatipYazma font */
@font-face {
  font-family: 'AlkatipYazma';
  src: url('https://raw.githubusercontent.com/Uyghur-coder/Uyghur-alphabet-games/main/fonts/ALKATIPYazma.ttf') format('truetype');
  font-display: swap;
}

body { 
  font-family: 'AlkatipYazma', sans-serif;
  text-align: center; 
  margin: 20px; 
  background-color: #f0f8ff;
}

#consonants {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 8px;
  margin-bottom: 25px;
}

.consonant {
  font-family: 'AlkatipYazma', sans-serif;
  font-size: 2rem;  
  margin: 4px; 
  padding: 10px; 
  border: 1px solid #555; 
  border-radius: 5px; 
  cursor: grab;
  background-color: #fffacd;
  min-width: 50px;      
  text-align: center;
  transition: transform 0.2s;
}

.consonant:active { transform: scale(1.1); }

.container {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 20px;
  margin-bottom: 20px;
}

.box-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 5px;
}

.label {
  font-size: 1.3rem;
  font-weight: bold;
  margin-bottom: 5px;
}

.box {
  width: 260px;
  min-height: 220px;
  border: 2px dashed #333;
  border-radius: 12px;
  padding: 8px;
  font-family: 'AlkatipYazma', sans-serif;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-auto-rows: auto;
  gap: 6px;
  background-color: #e6e6fa;
  overflow-y: auto;
}

#feedback { font-size: 1.3rem; margin-top: 15px; min-height: 30px; }
#score { font-size: 1.1rem; margin-top: 8px; }
button {
  margin: 10px 5px;
  padding: 8px 16px;
  font-size: 1rem;
  cursor: pointer;
}
</style>
</head>
<body>

<h1>Uyghur: Voiced vs Unvoiced Consonants</h1>

<div id="consonants"></div>

<div class="container">
  <div class="box-container">
    <div class="label">Voiced (ÿ¨ÿßÿ±ÿß⁄≠ŸÑŸâŸÇ)</div>
    <div id="voiced" class="box" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
  </div>
  <div class="box-container">
    <div class="label">Unvoiced (ÿ¨ÿßÿ±ÿß⁄≠ÿ≥Ÿâÿ≤)</div>
    <div id="unvoiced" class="box" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
  </div>
</div>

<div id="feedback"></div>
<div id="score">Score: 0</div>
<button onclick="resetGame()">Reset</button>

<script>
const consonantsData = [
  {char: 'ÿ®', type: 'voiced'}, {char: 'Ÿæ', type: 'unvoiced'},
  {char: 'ÿØ', type: 'voiced'}, {char: 'ÿ™', type: 'unvoiced'},
  {char: 'ÿ¨', type: 'voiced'}, {char: '⁄Ü', type: 'unvoiced'},
  {char: 'ÿ∫', type: 'voiced'}, {char: 'ÿÆ', type: 'unvoiced'},
  {char: '⁄Ø', type: 'voiced'}, {char: 'ŸÉ', type: 'unvoiced'},
  {char: 'ÿ≤', type: 'voiced'}, {char: 'ÿ≥', type: 'unvoiced'},
  {char: '€ã', type: 'voiced'}, {char: 'ŸÅ', type: 'unvoiced'},
  {char: 'ŸÑ', type: 'voiced'}, {char: 'ŸÖ', type: 'voiced'},
  {char: 'ŸÜ', type: 'voiced'}, {char: 'ÿ±', type: 'voiced'},
  {char: 'Ÿä', type: 'voiced'}
];

let score = 0;
let consonants = [];

// Shuffle helper
function shuffleArray(arr) {
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
}

// Initialize consonants
function initConsonants() {
  const container = document.getElementById('consonants');
  container.innerHTML = '';
  consonants = [...consonantsData];
  shuffleArray(consonants);
  consonants.forEach(c => {
    let div = document.createElement('div');
    div.innerText = c.char;
    div.className = 'consonant';
    div.draggable = true;
    div.id = 'consonant-' + c.char;
    div.dataset.type = c.type;
    div.ondragstart = drag;
    container.appendChild(div);
  });
}

// Drag & Drop
function allowDrop(ev) { ev.preventDefault(); }
function drag(ev) { ev.dataTransfer.setData("text", ev.target.id); }

function drop(ev) {
  ev.preventDefault();
  const data = ev.dataTransfer.getData("text");
  const elem = document.getElementById(data);
  const dropBox = ev.currentTarget;

  if(elem.dataset.type === (dropBox.id === 'voiced' ? 'voiced' : 'unvoiced')) {
    dropBox.appendChild(elem);
    document.getElementById('feedback').innerText = '‚úÖ Correct!';
    score++;
  } else {
    document.getElementById('feedback').innerText = '‚ùå Wrong! Try again.';
    score = Math.max(0, score - 1);
  }
  document.getElementById('score').innerText = `Score: ${score}`;

  // Check for completion
  if(document.getElementById('voiced').children.length + document.getElementById('unvoiced').children.length === consonants.length) {
    document.getElementById('feedback').innerText = 'üéâ Congratulations! You sorted all letters!';
  }
}

function resetGame() {
  score = 0;
  document.getElementById('score').innerText = 'Score: 0';
  document.getElementById('feedback').innerText = '';
  document.getElementById('voiced').innerHTML = '';
  document.getElementById('unvoiced').innerHTML = '';
  initConsonants();
}

initConsonants();
</script>

</body>
</html>
