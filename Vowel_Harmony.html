<!DOCTYPE html>
<html lang="ug" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Uyghur Vowel Harmony Game</title>
<style>
/* Load ALKATIPAsliya font */
@font-face {
  font-family: 'ALKATIPAsliya';
  src: url('https://Uyghur-coder.github.io/Uyghur-alphabet-games/fonts/ALKATIPAsliya.TTF') format('truetype');
  font-weight: normal;
  font-style: normal;
}

body { font-family: 'ALKATIPAsliya', sans-serif; text-align: center; margin: 30px; }
h1 { margin-bottom: 10px; }

/* Reference tables */
table { margin: 0 auto 20px auto; border-collapse: collapse; font-family: 'ALKATIPAsliya'; }
th, td { border: 1px solid #888; padding: 6px 12px; font-size: 18px; }

/* Lighter colors for vowel groups */
.front { background-color: #F0F8FF; }
.back { background-color: #FFF0F0; }
.central { background-color: #F0FFF0; }

/* Section labels */
.section-label { 
  font-weight: bold; 
  font-size: 20px; 
  margin-top: 20px; 
  margin-bottom: 5px; 
  text-decoration: underline; 
  color: #333;
}

/* Draggable vowels */
.vowel {
  display: inline-block;
  margin: 10px;
  padding: 15px 25px;
  border-radius: 8px;
  cursor: grab;
  font-size: 26px;
  font-weight: bold;
  color: #222;
  background-color: #FFFACD; /* light yellow */
  box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
  font-family: 'ALKATIPAsliya';
  transition: 0.2s;
}

.vowel:hover {
  transform: scale(1.1);
  background-color: #FFE680;
  color: #222;
}

/* Drop zones */
.dropzone {
  display: inline-block;
  margin: 10px;
  padding: 25px;
  border: 2px dashed #888;
  border-radius: 8px;
  width: 250px;
  height: 80px;
  vertical-align: middle;
  font-size: 22px;
  font-weight: bold;
  line-height: 30px;
  font-family: 'ALKATIPAsliya';
  background-color: #F8F8F8;
  transition: 0.2s;
}

.dropzone.correct { border-color: green; background-color: #D0FFD0; }
.dropzone.wrong { border-color: red; background-color: #FFD0D0; }

#feedback { font-weight:bold; margin-top: 20px; }
button { font-size: 18px; margin: 10px; padding: 8px 16px; }
</style>
</head>
<body>

<h1>Uyghur Vowel Harmony Game üéµ</h1>

<h2>Uyghur Vowel Reference</h2>

<div class="section-label">Front Vowels</div>
<table>
  <tr><th>Vowel</th><th>IPA</th><th>Example</th><th>Meaning</th></tr>
  <tr class="front"><td>”ô / e</td><td>[√¶] / [e]</td><td>ÿ¶€ïÿ™Ÿâ (eti)</td><td>meat</td></tr>
  <tr class="front"><td>i / ÿ¶Ÿâ</td><td>[i]</td><td>ŸÉŸâÿ¥Ÿâ (kishi)</td><td>nest</td></tr>
  <tr class="front"><td>√© / ÿ¶€ê</td><td>[eÀê]</td><td>ÿ¶€êŸÑŸâŸæÿ®€ï (√©lipbe)</td><td>take</td></tr>
  <tr class="front"><td>√∂ / ÿ¶€Ü</td><td>[√∏]</td><td>ÿ¶€ÜŸä (√∂y)</td><td>house</td></tr>
  <tr class="front"><td>√º / ÿ¶€à</td><td>[y]</td><td>ÿ¶€àÿ≤€àŸÖ (√ºz√ºm)</td><td>grape</td></tr>
</table>

<div class="section-label">Back Vowels</div>
<table>
  <tr><th>Vowel</th><th>IPA</th><th>Example</th><th>Meaning</th></tr>
  <tr class="back"><td>a / ÿ¶ÿß</td><td>[…ë]</td><td>ÿ¶ÿß€ãÿßÿ≤ (awaz)</td><td>voice</td></tr>
  <tr class="back"><td>o / ÿ¶Ÿà</td><td>[o]</td><td>ÿ¶Ÿàÿ±ŸÖÿßŸÜ (orman)</td><td>past</td></tr>
  <tr class="back"><td>u / ÿ¶€á</td><td>[u]</td><td>ÿ¶€á⁄Ü (uch)</td><td>fly</td></tr>
  <tr class="back"><td>√Ø / ÿ¶Ÿâ</td><td>[u]</td><td>ŸÇŸâÿ¥ (qish)</td><td>fly</td></tr>
  <tr class="back"><td>√• / ÿ¶ÿß</td><td>[…í]</td><td>‚Äì</td><td>low a (dialectal)</td></tr>
</table>

<div class="section-label">Neutral / Central Vowels</div>
<table>
  <tr><th>Vowel</th><th>IPA</th><th>Example</th><th>Meaning</th></tr>
  <tr class="central"><td>√Ø / ÿ¶Ÿâ</td><td>[…®]</td><td>ÿ¶Ÿâ⁄Ü (ich)</td><td>inside</td></tr>
  <tr class="central"><td>e / ÿ¶€ï</td><td>[…ô]</td><td>ÿ¶€ïÿ™Ÿâ (eti)</td><td>meat</td></tr>
</table>

<p>Drag the vowels to the correct category!</p>
<div id="rounds"></div>
<div id="vowels"></div>
<p id="feedback"></p>
<p>Score: <span id="score">0</span></p>
<button onclick="clearDrop()">Clear</button>
<button onclick="nextRound()">Next Round</button>

<script>
const vowels = [
  {letter:'”ô / e', type:'front'},
  {letter:'i / ÿ¶Ÿâ', type:'front'},
  {letter:'√© / ÿ¶€ê', type:'front'},
  {letter:'√∂ / ÿ¶€Ü', type:'front'},
  {letter:'√º / ÿ¶€à', type:'front'},
  {letter:'a / ÿ¶ÿß', type:'back'},
  {letter:'o / ÿ¶Ÿà', type:'back'},
  {letter:'u / ÿ¶€á', type:'back'},
  {letter:'√• / ÿ¶ÿß', type:'back'},
  {letter:'√Ø / ÿ¶Ÿâ', type:'central'},
  {letter:'e / ÿ¶€ï', type:'central'}
];

let score = 0;
let currentRound = [];

function getCategoryLabel(type){
  switch(type){
    case 'front': return 'Front';
    case 'back': return 'Back';
    case 'central': return 'Neutral';
    default: return '';
  }
}

function nextRound(){
  document.getElementById('feedback').innerText = '';
  const roundCount = 3;
  currentRound = [];

  while(currentRound.length < roundCount){
    const candidate = vowels[Math.floor(Math.random()*vowels.length)];
    if(!currentRound.includes(candidate)) currentRound.push(candidate);
  }

  const roundsDiv = document.getElementById('rounds');
  roundsDiv.innerHTML = '';
  currentRound.forEach((v, index)=>{
    const dz = document.createElement('div');
    dz.className = 'dropzone';
    dz.id = 'dropzone-' + index;
    dz.setAttribute('ondragover','allowDrop(event)');
    dz.setAttribute('ondrop','drop(event,' + index + ')');

    dz.innerText = getCategoryLabel(v.type);

    if(v.type === 'front') dz.style.backgroundColor = '#E0F8FF';
    if(v.type === 'back') dz.style.backgroundColor = '#FFF0F0';
    if(v.type === 'central') dz.style.backgroundColor = '#E0FFE0';

    roundsDiv.appendChild(dz);
  });

  let options = vowels.sort(()=>0.5-Math.random()).slice(0, 8);
  currentRound.forEach(v=>{
    if(!options.includes(v)) options[Math.floor(Math.random()*options.length)] = v;
  });

  const vDiv = document.getElementById('vowels');
  vDiv.innerHTML = '';
  options.forEach(v=>{
    let span = document.createElement("span");
    span.innerText = v.letter;
    span.className = `vowel ${v.type}`;
    span.draggable = true;
    span.id = 'vowel-' + v.letter + '-' + Math.floor(Math.random()*1000);
    span.ondragstart = drag;
    vDiv.appendChild(span);
  });
}

function allowDrop(ev){ ev.preventDefault(); }
function drag(ev){ ev.dataTransfer.setData("text", ev.target.id); }
function drop(ev,index){
  ev.preventDefault();
  const data = ev.dataTransfer.getData("text");
  const dragged = document.getElementById(data);
  const dz = document.getElementById('dropzone-' + index);
  dz.innerText = dragged.innerText;

  const correct = currentRound[index];
  if(dragged.innerText.startsWith(correct.letter.split(' ')[0])){
    dz.classList.add('correct');
    dz.classList.remove('wrong');
    document.getElementById('feedback').innerText = "‚úÖ Correct!";
    score++;
  } else {
    dz.classList.add('wrong');
    dz.classList.remove('correct');
    document.getElementById('feedback').innerText = `‚ùå Wrong! Correct: ${correct.letter}`;
  }
  document.getElementById('score').innerText = score;
}

function clearDrop(){
  document.querySelectorAll('.dropzone').forEach((dz,index)=>{
    dz.innerText = getCategoryLabel(currentRound[index].type);
    dz.classList.remove('correct','wrong');
  });
  document.getElementById('feedback').innerText = '';
}

nextRound();
</script>
</body>
</html>
