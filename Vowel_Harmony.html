<!DOCTYPE html>
<html lang="ug" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Uyghur Vowel Harmony Game</title>
<style>
body { font-family: sans-serif; text-align: center; margin: 30px; }
h1 { margin-bottom: 10px; }
table { margin: 0 auto 20px auto; border-collapse: collapse; }
th, td { border: 1px solid #888; padding: 6px 12px; font-size: 18px; }

/* Color-coded rows for vowel groups */
.front { background-color: #E0F0FF; }   /* Light blue */
.back { background-color: #FFE0E5; }    /* Light pink */
.central { background-color: #E0FFE0; } /* Light green */

/* Drop zone and draggable styles */
.vowel { display: inline-block; margin: 10px; padding: 10px 20px; border-radius: 8px; cursor: grab; font-size: 18px; color: white; }
.dropzone { display: inline-block; margin: 10px; padding: 20px; border: 2px dashed #888; border-radius: 8px; width: 220px; height: 60px; vertical-align: middle; font-size: 16px; line-height: 20px; }
#feedback { font-weight:bold; margin-top: 20px; }
button { font-size: 18px; margin: 10px; padding: 8px 16px; }

/* Section labels */
.section-label { font-weight: bold; font-size: 20px; margin-top: 20px; margin-bottom: 5px; text-decoration: underline; }
</style>
</head>
<body>

<h1>Uyghur Vowel Harmony Game ğŸµ</h1>

<h2>Uyghur Vowel Reference</h2>

<div class="section-label">Front Vowels</div>
<table>
  <tr><th>Vowel</th><th>IPA</th><th>Example</th><th>Meaning</th></tr>
  <tr class="front"><td>Ó™ / e</td><td>[Ã¦] / [e]</td><td>Ø¦Û•ØªÙ‰ (eti)</td><td>meat</td></tr>
  <tr class="front"><td>i / Ø¦Ù‰</td><td>[i]</td><td>Ø¦Ù‰Ù† (in)</td><td>nest</td></tr>
  <tr class="front"><td>Ã© / Ø¦Û</td><td>[eË]</td><td>Ø¦ÛÙ„Ù‰Ù¾ (elip)</td><td>take</td></tr>
  <tr class="front"><td>Ã¶ / Ø¦Û†</td><td>[Ã¸]</td><td>Ø¦Û†ÙŠ (Ã¶y)</td><td>house</td></tr>
  <tr class="front"><td>Ã¼ / Ø¦Ûˆ</td><td>[y]</td><td>Ø¦ÛˆØ²ÛˆÙ… (Ã¼zÃ¼m)</td><td>grape</td></tr>
</table>

<div class="section-label">Back Vowels</div>
<table>
  <tr><th>Vowel</th><th>IPA</th><th>Example</th><th>Meaning</th></tr>
  <tr class="back"><td>a / Ø¦Ø§</td><td>[É‘]</td><td>Ø¦Ø§Û‹Ø§Ø² (awaz)</td><td>voice</td></tr>
  <tr class="back"><td>o / Ø¦Ùˆ</td><td>[o]</td><td>Ø¦Û†ØªÙƒÛ•Ù† (otkÃ¤n)</td><td>past</td></tr>
  <tr class="back"><td>u / Ø¦Û‡</td><td>[u]</td><td>Ø¦Û‡Ú† (uch)</td><td>fly</td></tr>
  <tr class="back"><td>Ã¥ / Ø¦Ø§</td><td>[É’]</td><td>â€“</td><td>low a (dialectal)</td></tr>
</table>

<div class="section-label">Neutral / Central Vowels</div>
<table>
  <tr><th>Vowel</th><th>IPA</th><th>Example</th><th>Meaning</th></tr>
  <tr class="central"><td>Ã¯ / Ø¦Ù‰</td><td>[É¨]</td><td>Ø¦Ù‰Ú† (ich)</td><td>inside</td></tr>
  <tr class="central"><td>e / Ø¦Û•</td><td>[É™]</td><td>Ø¦Û•ØªÙ‰ (eti)</td><td>meat</td></tr>
</table>

<p>Drag the correct vowels to match the English sounds!</p>
<div id="rounds"></div>
<div id="vowels"></div>
<p id="feedback"></p>
<p>Score: <span id="score">0</span></p>
<button onclick="clearDrop()">Clear</button>
<button onclick="nextRound()">Next Round</button>

<script>
const vowels = [
  {letter:'Ó™ / e', type:'front', english:'meat'},
  {letter:'i / Ø¦Ù‰', type:'front', english:'nest'},
  {letter:'Ã© / Ø¦Û', type:'front', english:'take'},
  {letter:'Ã¶ / Ø¦Û†', type:'front', english:'house'},
  {letter:'Ã¼ / Ø¦Ûˆ', type:'front', english:'grape'},
  {letter:'a / Ø¦Ø§', type:'back', english:'voice'},
  {letter:'o / Ø¦Ùˆ', type:'back', english:'past'},
  {letter:'u / Ø¦Û‡', type:'back', english:'fly'},
  {letter:'Ã¥ / Ø¦Ø§', type:'back', english:'low a (dialectal)'},
  {letter:'Ã¯ / Ø¦Ù‰', type:'central', english:'inside'},
  {letter:'e / Ø¦Û•', type:'central', english:'meat'}
];

let score = 0;
let currentRound = [];

function nextRound(){
  document.getElementById('feedback').innerText = '';
  const roundCount = 3; 
  currentRound = [];

  while(currentRound.length < roundCount){
    const candidate = vowels[Math.floor(Math.random()*vowels.length)];
    if(!currentRound.includes(candidate)) currentRound.push(candidate);
  }

  const roundsDiv = document.getElementById('rounds');
  roundsDiv.innerHTML = '';
  currentRound.forEach((v, index)=>{
    const dz = document.createElement('div');
    dz.className = 'dropzone';
    dz.id = 'dropzone-' + index;
    dz.setAttribute('ondragover','allowDrop(event)');
    dz.setAttribute('ondrop','drop(event,' + index + ')');
    dz.innerText = `Drop for: ${v.english}`;

    // lighter background for vowel type
    if(v.type === 'front') dz.style.backgroundColor = '#E0F0FF';
    if(v.type === 'back') dz.style.backgroundColor = '#FFE0E5';
    if(v.type === 'central') dz.style.backgroundColor = '#E0FFE0';

    roundsDiv.appendChild(dz);
  });

  let options = vowels.sort(()=>0.5-Math.random()).slice(0, 8);
  currentRound.forEach(v=>{
    if(!options.includes(v)) options[Math.floor(Math.random()*options.length)] = v;
  });

  const vDiv = document.getElementById('vowels');
  vDiv.innerHTML = '';
  options.forEach(v=>{
    let span = document.createElement('span');
    span.innerText = v.letter; // Only Uyghur letters
    span.className = `vowel ${v.type}`;
    span.draggable = true;
    span.id = 'vowel-' + v.letter + '-' + Math.floor(Math.random()*1000);
    span.ondragstart = drag;
    vDiv.appendChild(span);
  });
}

function allowDrop(ev){ ev.preventDefault(); }
function drag(ev){ ev.dataTransfer.setData("text", ev.target.id); }
function drop(ev,index){
  ev.preventDefault();
  const data = ev.dataTransfer.getData("text");
  const dragged = document.getElementById(data);
  const dz = document.getElementById('dropzone-' + index);
  dz.innerText = dragged.innerText;

  const correct = currentRound[index];
  if(dragged.innerText.startsWith(correct.letter.split(' ')[0])){
    dz.style.borderColor = 'green';
    document.getElementById('feedback').innerText = "âœ… Correct!";
    score++;
  } else {
    dz.style.borderColor = 'red';
    document.getElementById('feedback').innerText = `âŒ Wrong! Correct: ${correct.letter}`;
  }
  document.getElementById('score').innerText = score;
}

function clearDrop(){
  document.querySelectorAll('.dropzone').forEach((dz,index)=>{
    dz.innerText = `Drop for: ${currentRound[index].english}`;
    dz.style.borderColor = '#888';
  });
  document.getElementById('feedback').innerText = '';
}

nextRound();
</script>

</body>
</html>
