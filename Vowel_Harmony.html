<!DOCTYPE html>
<html lang="ug" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Uyghur Vowel Harmony Game</title>
<style>
@font-face {
  font-family: 'ALKATIPYazma';
  src: url('https://raw.githubusercontent.com/Uyghur-coder/Uyghur-alphabet-games/main/fonts/ALKATIPYazma.ttf') format('truetype');
}

body { font-family: 'ALKATIPYazma', sans-serif; text-align: center; margin: 30px; }

h1, h2 { margin-bottom: 15px; }

/* Draggable vowels */
.vowel {
  display: inline-block;
  margin: 10px;
  padding: 15px 25px;
  border-radius: 8px;
  cursor: grab;
  font-size: 26px;
  font-weight: bold;
  color: #222;
  background-color: #FFFACD; /* light yellow */
  box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
  transition: 0.2s;
}
.vowel:hover { transform: scale(1.1); background-color: #FFE680; }

/* Drop zones */
.dropzone {
  display: inline-block;
  margin: 10px;
  padding: 15px;
  border: 2px dashed #888;
  border-radius: 8px;
  width: 250px;
  height: 120px;
  vertical-align: top;
  font-size: 22px;
  font-weight: bold;
  background-color: #F8F8F8;
  transition: 0.2s;
}
.dropzone.complete {
  box-shadow: 0 0 15px 3px #6FCF97;
  border-color: green;
}

/* Comma-separated vowels in dropzone */
.dropzone span.vowels {
  display: block;
  margin-top: 5px;
  font-size: 22px;
  max-height: 80px;
  overflow-y: auto;
  word-wrap: break-word;
  padding-right: 5px;
}

/* Reference tables */
table { margin: 15px auto; border-collapse: collapse; width: 80%; font-size: 18px; }
th, td { border: 1px solid #888; padding: 8px; }
.front { background-color: #D0E7FF; }   /* light blue */
.back { background-color: #D0FFD0; }    /* light green */
.central { background-color: #EDEDED; } /* light gray */

#feedback { font-weight:bold; margin-top: 20px; font-size: 20px; }
button { font-size: 18px; margin: 10px; padding: 8px 16px; }
</style>
</head>
<body>

<h1>Uyghur Vowel Harmony Game üéµ</h1>
<p>Drag each vowel to the correct category: Front, Back, or Neutral</p>

<!-- Reference tables -->
<h2>Front Vowels</h2>
<table>
  <tr><th>Vowel</th><th>IPA</th><th>Example</th><th>Meaning</th></tr>
  <tr class="front"><td>”ô / ÿ¶€ï</td><td>[√¶] / [e]</td><td>ÿ¶€ïŸÖ⁄Ø€ïŸÉ (emgek)</td><td>labor</td></tr>
  <tr class="front"><td>√© / ÿ¶€ê</td><td>[eÀê]</td><td>ÿ¶€êŸÑŸâŸæÿ®€ï (√©lipbe)</td><td>take</td></tr>
  <tr class="front"><td>√∂ / ÿ¶€Ü</td><td>[√∏]</td><td>ÿ¶€ÜŸä (√∂y)</td><td>house</td></tr>
  <tr class="front"><td>√º / ÿ¶€à</td><td>[y]</td><td>ÿ¶€àÿ≤€àŸÖ (√ºz√ºm)</td><td>grape</td></tr>
  <tr class="front"><td>i / ÿ¶Ÿâ</td><td>[i]</td><td>ŸÉŸâÿ¥Ÿâ (kishi)</td><td>nest</td></tr>
  <tr class="front"><td>√© / ÿ¶€ê</td><td>[i]</td><td>ŸÉ€ê⁄Ü€ï (k√©che)</td><td>night</td></tr>
</table>

<h2>Back Vowels</h2>
<table>
  <tr><th>Vowel</th><th>IPA</th><th>Example</th><th>Meaning</th></tr>
  <tr class="back"><td>a / ÿ¶ÿß</td><td>[…ë]</td><td>ÿ¶ÿß€ãÿßÿ≤ (awaz)</td><td>voice</td></tr>
  <tr class="back"><td>o / ÿ¶Ÿà</td><td>[o]</td><td>ÿ¶Ÿàÿ±ŸÖÿßŸÜ (orman)</td><td>past</td></tr>
  <tr class="back"><td>u / ÿ¶€á</td><td>[u]</td><td>ÿ¶€á⁄Ü€áÿ± (uchur)</td><td>information</td></tr>
  <tr class="back"><td>√• / ÿ¶ÿß</td><td>[…í]</td><td>‚Äì</td><td>low a (dialectal)</td></tr>
  <tr class="back"><td>√Ø / ÿ¶Ÿâ</td><td>[u]</td><td>ŸÇŸâÿ¥ (q√Øsh)</td><td>fly</td></tr>
  <tr class="back"><td>√© / ÿ¶€ê</td><td>[u]</td><td>ŸÇ€êÿ™ŸâŸÇ (q√©tiq)</td><td>yoghurt</td></tr>
</table>

<h2>Neutral Vowels</h2>
<table>
  <tr><th>Vowel</th><th>IPA</th><th>Example</th><th>Meaning</th></tr>
  <tr class="neutral"><td>i / ÿ¶Ÿâ</td><td>[…ë]</td><td></td><td></td></tr>
  <tr class="neutral"><td>√© / ÿ¶€ê</td><td>[o]</td><td></td><td></td></tr>
</table>

<!-- Draggable vowels -->
<div id="vowels"></div>

<!-- Drop zones -->
<div>
  <div id="frontZone" class="dropzone" ondrop="drop(event,'front')" ondragover="allowDrop(event)">Front</div>
  <div id="backZone" class="dropzone" ondrop="drop(event,'back')" ondragover="allowDrop(event)">Back</div>
  <div id="neutralZone" class="dropzone" ondrop="drop(event,'central')" ondragover="allowDrop(event)">Neutral</div>
</div>

<p id="feedback"></p>
<p>Score: <span id="score">0</span></p>
<button onclick="startGame()">New Round</button>
<button onclick="clearRound()">Clear Round</button>

<script>
const vowels = [
  {letter:'”ô / ÿ¶€ï', type:'front'},
  {letter:'i / ÿ¶Ÿâ', type:'front'},
  {letter:'√© / ÿ¶€ê', type:'front'},
  {letter:'√∂ / ÿ¶€Ü', type:'front'},
  {letter:'√º / ÿ¶€à', type:'front'},
  {letter:'a / ÿ¶ÿß', type:'back'},
  {letter:'o / ÿ¶Ÿà', type:'back'},
  {letter:'u / ÿ¶€á', type:'back'},
  {letter:'√• / ÿ¶ÿß', type:'back'},
  {letter:'√Ø / ÿ¶Ÿâ', type:'central'}
];

let score = 0;

// Shuffle helper
function shuffleArray(array){
  for(let i = array.length - 1; i > 0; i--){
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

function allowDrop(ev){ ev.preventDefault(); }
function drag(ev){ ev.dataTransfer.setData("text", ev.target.id); }

function drop(ev, category){
  ev.preventDefault();
  const data = ev.dataTransfer.getData("text");
  const dragged = document.getElementById(data);
  if(!dragged) return;

  const zone = document.getElementById(category + 'Zone');

  if(dragged.dataset.type === category){
    // Create span if not exists
    let vowelsSpan = zone.querySelector('span.vowels');
    if(!vowelsSpan){
      vowelsSpan = document.createElement('span');
      vowelsSpan.className = 'vowels';
      vowelsSpan.style.display = 'block';
      vowelsSpan.style.marginTop = '5px';
      vowelsSpan.style.fontSize = '22px';
      vowelsSpan.style.maxHeight = '80px';
      vowelsSpan.style.overflowY = 'auto';
      zone.appendChild(vowelsSpan);
    }

    // Add vowel, comma-separated
    if(zone.dataset.vowels){
      zone.dataset.vowels += ', ' + dragged.innerText;
    } else {
      zone.dataset.vowels = dragged.innerText;
    }
    vowelsSpan.innerText = zone.dataset.vowels;

    // Lock the vowel
    dragged.draggable = false;
    dragged.style.cursor = "default";

    document.getElementById('feedback').innerText = "‚úÖ Correct!";
    score++;
  } else {
    // Bounce back animation
    dragged.style.transition = "transform 0.3s";
    dragged.style.transform = "translateX(15px)";
    setTimeout(()=>{ dragged.style.transform = "translateX(-15px)"; },150);
    setTimeout(()=>{ dragged.style.transform = "translateX(0)"; },300);
    document.getElementById('feedback').innerText = "‚ùå Wrong! Try again.";
  }

  document.getElementById('score').innerText = score;

  // Highlight drop zone if all vowels of this type are placed
  const vowelsOfType = vowels.filter(v => v.type === category).length;
  const placedInZone = zone.dataset.vowels ? zone.dataset.vowels.split(',').length : 0;
  if(placedInZone === vowelsOfType){
    zone.classList.add('complete');
  }

  // Congratulatory message if all vowels placed
  if(score === vowels.length){
    document.getElementById('feedback').innerText = "üéâ Congratulations! All vowels placed correctly! üéâ";
  }
}

function createVowels(){
  const container = document.getElementById('vowels');
  container.innerHTML = '';

  const shuffledVowels = shuffleArray([...vowels]);
  shuffledVowels.forEach(v=>{
    const span = document.createElement('span');
    span.innerText = v.letter;
    span.className = 'vowel';
    span.draggable = true;
    span.id = 'vowel-' + Math.floor(Math.random()*1000);
    span.dataset.type = v.type;
    span.ondragstart = drag;
    container.appendChild(span);
  });
}

function startGame(){
  score = 0;
  document.getElementById('score').innerText = score;
  document.getElementById('feedback').innerText = '';

  ['frontZone','backZone','neutralZone'].forEach(id=>{
    const zone = document.getElementById(id);
    zone.dataset.vowels = '';
    zone.innerHTML = id.replace('Zone',''); // keep label
    zone.classList.remove('complete');       // remove glow
  });

  createVowels();
}

function clearRound(){
  document.getElementById('feedback').innerText = '';

  ['frontZone','backZone','neutralZone'].forEach(id=>{
    const zone = document.getElementById(id);
    zone.dataset.vowels = '';
    zone.innerHTML = id.replace('Zone',''); // keep label
    zone.classList.remove('complete');       // remove glow
  });

  createVowels();
}

startGame();
</script>
</body>
</html>
