<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Uyghur Numbers Practice</title>
<style>
@font-face {
  font-family: 'AlkatipYazma';
  src: url('https://raw.githubusercontent.com/Uyghur-coder/Uyghur-alphabet-games/main/fonts/ALKATIPYazma.ttf') format('truetype');
  font-display: swap;
}
body {
  font-family: Inter, sans-serif;
  background: #fffef5;
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 0;
  padding: 20px;
}
header {
  background:#2065d1; color:#fff;
  width:100%; text-align:center;
  padding:12px 0; font-size:1.5rem; margin-bottom:12px;
}
.main-tabs, .sub-tabs {
  display: flex; justify-content: center; flex-wrap: wrap; margin-bottom:10px;
}
.main-tabs button, .sub-tabs button {
  margin: 4px; padding: 8px 14px; border: none; border-radius: 6px;
  background: #2065d1; color:#fff; cursor:pointer; transition:0.2s;
}
.main-tabs button.active, .sub-tabs button.active { background:#1a4fb8; }
.game-section { display:none; flex-direction:column; align-items:center; width:100%; max-width:1200px;}
.game-section.active { display:flex; }
h2 { color:#2065d1; text-align:center; margin-bottom:10px; }
.row {
  display: grid;
  grid-template-columns: repeat(5, 130px);
  gap: 12px;
  margin-bottom: 15px;
  justify-content: center;
}
.card, .target {
  width: 130px; 
  height: 70px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  font-size: 1.4rem;
  font-weight: normal;
  cursor: pointer;
  border-radius: 8px;
  border: 2px solid #b0b0b0;
  box-shadow: 1px 1px 4px rgba(0,0,0,0.1);
  overflow: hidden;
  white-space: nowrap;
}
.card {
  background-color: #cce5ff; /* light blue */
  color: #000;
}
.target {
  background-color: #d4edda; /* light green */
  color: #000;
}
.card:active { transform: scale(0.97); }
.target.over { 
  outline: 3px solid #f1c40f; 
  box-shadow: 2px 2px 6px rgba(0,0,0,0.25); 
}
.target.matched { 
  background-color: #6aa66a !important;
  color: #fff !important;
  border-color: #3e8e41;
  pointer-events: none;
}
.card.hidden { transition: opacity 0.5s ease; opacity: 0; }
.hidden { visibility:hidden; }
.uyghur {
  font-family:'AlkatipYazma',sans-serif;
  font-size: 1.4rem;
  color: #000;
}
.reset-btn {
  margin-bottom: 12px;
  padding: 6px 12px;
  border: none;
  border-radius: 6px;
  background: #2065d1;
  color: #fff;
  cursor: pointer;
}
.reset-btn:hover { background:#1a4fb8; }
</style>
</head>
<body>

<header>Uyghur Numbers Practice</header>

<div class="main-tabs">
  <button class="active" onclick="showMainTab('cardinal')">Cardinal Numbers</button>
  <button onclick="showMainTab('ordinal')">Ordinal Numbers</button>
</div>

<div id="cardinal-subtabs" class="sub-tabs"></div>
<div id="ordinal-subtabs" class="sub-tabs" style="display:none;"></div>

<div id="cardinal-game" class="game-section active"></div>
<div id="ordinal-game" class="game-section"></div>

<script>
function formatNumber(num){
    return num.toLocaleString('en-US');
}

const cardinalRanges = {
  '1-10': [
    {num:1,name:'بىر'}, {num:2,name:'ئىككى'}, {num:3,name:'ئۈچ'}, {num:4,name:'تۆت'}, {num:5,name:'بەش'},
    {num:6,name:'ئالتە'}, {num:7,name:'يەتتە'}, {num:8,name:'سەككىز'}, {num:9,name:'توققۇز'}, {num:10,name:'ئون'}
  ],
  '11-20': [
    {num:11,name:'ئون بىر'}, {num:12,name:'ئون ئىككى'}, {num:13,name:'ئون ئۈچ'}, {num:14,name:'ئون تۆت'}, {num:15,name:'ئون بەش'},
    {num:16,name:'ئون ئالتە'}, {num:17,name:'ئون يەتتە'}, {num:18,name:'ئون سەككىز'}, {num:19,name:'ئون توققۇز'}, {num:20,name:'يىگىرمە'}
  ],
  '30-100': [
    {num:30,name:'ئوتتۇز'}, {num:40,name:'قىرىق'}, {num:50,name:'ئەللىك'}, {num:60,name:'ئاتمىش'},
    {num:70,name:'يەتمىش'}, {num:80,name:'سەكسەن'}, {num:90,name:'توقسان'}, {num:100,name:'يۈز'}
  ],
  '1000+': [
    {num:1000,name:'مىڭ'}, 
    {num:10000,name:'ئون مىڭ'}, 
    {num:100000,name:'يۈز مىڭ'}, 
    {num:1000000,name:'مىليون'}
  ]
};

const ordinalRanges = {
  '1-10': [
    {en:"1st",ug:"بىرىنچى",id:"first"}, {en:"2nd",ug:"ئىككىنچى",id:"second"}, {en:"3rd",ug:"ئۈچۈنچى",id:"third"},
    {en:"4th",ug:"تۆتىنچى",id:"fourth"}, {en:"5th",ug:"بەشىنچى",id:"fifth"}, {en:"6th",ug:"ئالتىنچى",id:"sixth"},
    {en:"7th",ug:"يەتتىنچى",id:"seventh"}, {en:"8th",ug:"سەككىزىنچى",id:"eighth"}, {en:"9th",ug:"توققۇزىنچى",id:"ninth"},
    {en:"10th",ug:"ئونىنچى",id:"tenth"}
  ],
  '11-20': [
    {en:"11th",ug:"ئون بىرىنچى",id:"eleventh"}, {en:"12th",ug:"ئون ئىككىنچى",id:"twelfth"}, {en:"13th",ug:"ئون ئۈچۈنچى",id:"thirteenth"},
    {en:"14th",ug:"ئون تۆتىنچى",id:"fourteenth"}, {en:"15th",ug:"ئون بەشىنچى",id:"fifteenth"}, {en:"16th",ug:"ئون ئالتىنچى",id:"sixteenth"},
    {en:"17th",ug:"ئون يەتتىنچى",id:"seventeenth"}, {en:"18th",ug:"ئون سەككىزىنچى",id:"eighteenth"}, {en:"19th",ug:"ئون توققۇزىنچى",id:"nineteenth"},
    {en:"20th",ug:"يىگىرمىنچى",id:"twentieth"}
  ],
  '100-1000000': [
    {en:"100th",ug:"يۈزىنچى",id:"hundredth"}, 
    {en:"1000th",ug:"مىڭىنچى",id:"thousandth"},
    {en:"10000th",ug:"ئون مىڭىنچى",id:"tenthousandth"}, 
    {en:"100000th",ug:"يۈز مىڭىنچى",id:"hundredthousandth"},
    {en:"1000000th",ug:"مىلىيونىنچى",id:"millionth"}
  ]
};

function shuffle(array){for(let i=array.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[array[i],array[j]]=[array[j],array[i]];}return array;}

function buildSubtabs(type, ranges, subtabContainer) {
    subtabContainer.innerHTML = '';
    let keys = Object.keys(ranges);
    keys.sort((a, b) => {
        if (a === "1000+" || a === "100-1000000") return 1;
        if (b === "1000+" || b === "100-1000000") return -1;
        return a.localeCompare(b, undefined, { numeric: true });
    });
    keys.forEach(range => {
        const btn = document.createElement('button');
        btn.textContent = range;
        btn.addEventListener('click', () => showSubtab(type, range));
        subtabContainer.appendChild(btn);
    });
}

function showMainTab(type) {
    document.querySelectorAll('.main-tabs button').forEach(b => b.classList.remove('active'));
    document.querySelectorAll('.sub-tabs').forEach(s => s.style.display = 'none');
    document.querySelectorAll('.game-section').forEach(s => s.classList.remove('active'));
    if (type === 'cardinal') {
        document.querySelector('.main-tabs button:nth-child(1)').classList.add('active');
        document.getElementById('cardinal-subtabs').style.display = 'flex';
        buildSubtabs('cardinal', cardinalRanges, document.getElementById('cardinal-subtabs'));
        showSubtab('cardinal', "1-10");
    } else {
        document.querySelector('.main-tabs button:nth-child(2)').classList.add('active');
        document.getElementById('ordinal-subtabs').style.display = 'flex';
        buildSubtabs('ordinal', ordinalRanges, document.getElementById('ordinal-subtabs'));
        showSubtab('ordinal', "1-10");
    }
}

function showSubtab(type,range){
    const subtabContainer=document.getElementById(type+'-subtabs');
    subtabContainer.querySelectorAll('button').forEach(b=>b.classList.remove('active'));
    [...subtabContainer.children].forEach(b=>{ if(b.textContent===range) b.classList.add('active'); });
    const gameContainer=document.getElementById(type+'-game');
    gameContainer.classList.add('active');
    buildGame(type,range,gameContainer);
}

function buildGame(type,range,container){
    container.innerHTML=`<h2>${type==='cardinal'?'Cardinal':'Ordinal'} Numbers ${range}</h2>
    <button class="reset-btn" onclick="buildGame('${type}','${range}',this.parentElement)">Reset</button>
    <div class="cards-container row"></div>
    <div class="targets-container row"></div>`;
    const items=type==='cardinal'?shuffle(cardinalRanges[range].slice()):shuffle(ordinalRanges[range].slice());
    const cardsContainer=container.querySelector('.cards-container');
    const targetsContainer=container.querySelector('.targets-container');
    const shuffledCards=shuffle(items.slice()); const shuffledTargets=shuffle(items.slice());

    shuffledCards.forEach(item=>{
        const card=document.createElement('div'); card.className='card';
        if(type==='cardinal'){ card.dataset.num=item.num; card.textContent=formatNumber(item.num);}
        else{ card.dataset.id=item.id; card.textContent=item.en;}
        card.setAttribute('draggable','true');
        card.addEventListener('dragstart',e=>{
            e.dataTransfer.setData('text/plain', type==='cardinal'?item.num:item.id);
        });
        cardsContainer.appendChild(card);
    });

    shuffledTargets.forEach(item=>{
        const target=document.createElement('div'); target.className='target';
        if(type==='cardinal'){ target.dataset.num=item.num; target.innerHTML=`<span class="uyghur">${item.name}</span>`;}
        else{ target.dataset.id=item.id; target.innerHTML=`<span class="uyghur">${item.ug}</span>`;}
        
        target.addEventListener('dragover',e=>{ e.preventDefault(); target.classList.add('over'); });
        target.addEventListener('dragleave',e=>{ target.classList.remove('over'); });
        target.addEventListener('drop',e=>{
            e.preventDefault();
            target.classList.remove('over');
            const draggedId = e.dataTransfer.getData('text/plain');
            if(type==='cardinal' && Number(draggedId)===Number(target.dataset.num)){
                const card=document.querySelector(`.card[data-num="${draggedId}"]`);
                if(card) card.classList.add('hidden');
                target.classList.add('matched');
            } else if(type==='ordinal' && draggedId===target.dataset.id){
                const card=document.querySelector(`.card[data-id="${draggedId}"]`);
                if(card) card.classList.add('hidden');
                target.classList.add('matched');
            }
        });

        targetsContainer.appendChild(target);
    });
}

buildSubtabs('cardinal',cardinalRanges,document.getElementById('cardinal-subtabs'));
buildSubtabs('ordinal',ordinalRanges,document.getElementById('ordinal-subtabs'));
showMainTab('cardinal');
</script>
</body>
</html>
